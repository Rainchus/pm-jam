% Script File: kkj_23.mscr
% Decoded from: 0 to 3CF0 (kkj_23)


#new:Function_Init $Function_Init
{
    0:  LAW       V1, 8007419C
    8:  LI        V0, 2
    C:  SB        V0, 84 (V1)
   10:  JR        RA
   14:  CLEAR     V0
}

PADDING: 80240018 to 80240020 (00000018 to 00000020)
00000000 00000000

#new:Function $Function_80240020
{
    0:  LAW       V0, 8007419C
    8:  LBU       V1, 7E (V0)
    C:  ANDI      V1, V1, FE
   10:  SB        V1, 7E (V0)
   14:  LBU       V0, 87 (A0)
   18:  SAB       V0, 8010F2A2
   20:  JR        RA
   24:  LI        V0, 2
}

#new:Function $Function_80240048
{
    0:  ADDIU     SP, SP, FFE8
    4:  SW        RA, 10 (SP)
    8:  LW        V0, C (A0)
    C:  JAL       ~Func:get_float_variable
   10:  LW        A1, 0 (V0)
   14:  LW        RA, 10 (SP)
   18:  TRUNC.W.S F2, F0
   1C:  MFC1      V0, F2
   20:  NOP
   24:  SAB       V0, 8010EFD5
   2C:  LI        V0, 2
   30:  JR        RA
   34:  ADDIU     SP, SP, 18
}

#new:Function $Function_80240080
{
    0:  ADDIU     SP, SP, FFD8
    4:  SW        S0, 18 (SP)
    8:  COPY      S0, A0
    C:  SW        RA, 1C (SP)
   10:  SDC1      F20, 20 (SP)
   14:  JAL       ~Func:get_npc_safe
   18:  LI        A0, 1
   1C:  LI        A0, 23D
   20:  LWC1      F2, 38 (V0)
   24:  LWC1      F20, 3C (V0)
   28:  LWC1      F0, 40 (V0)
   2C:  MFC1      A2, F2
   30:  MFC1      A3, F20
   34:  CLEAR     A1
   38:  JAL       ~Func:sfx_adjust_env_sound_pos
   3C:  SWC1      F0, 10 (SP)
   40:  TRUNC.W.S F4, F20
   44:  SWC1      F4, 84 (S0)
   48:  LW        RA, 1C (SP)
   4C:  LW        S0, 18 (SP)
   50:  LDC1      F20, 20 (SP)
   54:  LI        V0, 2
   58:  JR        RA
   5C:  ADDIU     SP, SP, 28
}

% Origin: HEURISTIC
#new:Function $Function_802400E0
{
    0:  ADDIU     SP, SP, FFA0
    4:  SW        S3, 3C (SP)
    8:  COPY      S3, A0
    C:  SW        RA, 44 (SP)
   10:  SW        S4, 40 (SP)
   14:  SW        S2, 38 (SP)
   18:  SW        S1, 34 (SP)
   1C:  SW        S0, 30 (SP)
   20:  SDC1      F24, 58 (SP)
   24:  SDC1      F22, 50 (SP)
   28:  SDC1      F20, 48 (SP)
   2C:  LW        V0, 148 (S3)
   30:  JAL       ~Func:get_npc_unsafe
   34:  LH        A0, 8 (V0)
   38:  ADDIU     A0, SP, 20
   3C:  ADDIU     A1, SP, 24
   40:  COPY      S0, V0
   44:  LW        V1, C (S3)
   48:  LW        A3, C (S0)
   4C:  LWC1      F0, 38 (S0)
   50:  LWC1      F2, 40 (S0)
   54:  LW        S4, 0 (V1)
   58:  ADDIU     V1, V1, 4
   5C:  LWC1      F24, 0 (V1)
   60:  CVT.S.W   F24, F24
   64:  ADDIU     V1, V1, 4
   68:  LWC1      F20, 0 (V1)
   6C:  CVT.S.W   F20, F20
   70:  MFC1      A2, F20
   74:  LWC1      F22, 4 (V1)
   78:  CVT.S.W   F22, F22
   7C:  SWC1      F0, 20 (SP)
   80:  JAL       ~Func:add_vec2D_polar
   84:  SWC1      F2, 24 (SP)
   88:  LA        S2, 8010EFC8
   90:  LWC1      F12, 20 (SP)
   94:  MTC1      R0, F20
   98:  LW        A2, 28 (S2)
   9C:  MFC1      A3, F20
   A0:  JAL       ~Func:dist2D
   A4:  MOV.S     F14, F20
   A8:  MOV.S     F12, F20
   AC:  LWC1      F14, 24 (SP)
   B0:  MFC1      A2, F12
   B4:  LW        A3, 30 (S2)
   B8:  JAL       ~Func:dist2D
   BC:  MOV.S     F20, F0
   C0:  LWC1      F4, C (S0)
   C4:  LAD       F2, $ConstDouble_80243CD0
   CC:  CVT.D.S   F4, F4
   D0:  C.EQ.D    F4, F2
   D4:  NOP
   D8:  BC1T      .oF8
   DC:  MOV.S     F2, F0
   E0:  LAD       F0, $ConstDouble_80243CD8
   E8:  C.EQ.D    F4, F0
   EC:  NOP
   F0:  BC1F      .o114
   F4:  NOP
        .oF8
   F8:  C.LE.S    F20, F24
   FC:  NOP
  100:  BC1F      .o134
  104:  CLEAR     S1
  108:  C.LE.S    F2, F22
  10C:  BEQ       R0, R0, .o12C
  110:  NOP
        .o114
  114:  C.LE.S    F2, F24
  118:  NOP
  11C:  BC1F      .o134
  120:  CLEAR     S1
  124:  C.LE.S    F20, F22
  128:  NOP
        .o12C
  12C:  BC1TL     .o134
  130:  LI        S1, 1
        .o134
  134:  BEQ       S1, R0, .o1D4
  138:  COPY      A0, S3
  13C:  LWC1      F12, 38 (S0)
  140:  LWC1      F14, 40 (S0)
  144:  LW        A2, 28 (S2)
  148:  LW        A3, 30 (S2)
  14C:  LWC1      F2, 3C (S0)
  150:  MOV.S     F0, F12
  154:  MOV.S     F4, F14
  158:  SWC1      F0, 20 (SP)
  15C:  SWC1      F2, 28 (SP)
  160:  JAL       ~Func:dist2D
  164:  SWC1      F4, 24 (SP)
  168:  LWC1      F12, 38 (S0)
  16C:  LWC1      F14, 40 (S0)
  170:  LW        A2, 28 (S2)
  174:  LW        A3, 30 (S2)
  178:  JAL       ~Func:atan2
  17C:  MOV.S     F20, F0
  180:  LI        A0, 00078000
  188:  ADDIU     A1, SP, 20
  18C:  SWC1      F20, 10 (SP)
  190:  SWC1      F0, 14 (SP)
  194:  LH        V0, A6 (S0)
  198:  ADDIU     A2, SP, 28
  19C:  MTC1      V0, F0
  1A0:  NOP
  1A4:  CVT.S.W   F0, F0
  1A8:  SWC1      F0, 18 (SP)
  1AC:  LH        V0, A8 (S0)
  1B0:  ADDIU     A3, SP, 24
  1B4:  MTC1      V0, F0
  1B8:  NOP
  1BC:  CVT.S.W   F0, F0
  1C0:  JAL       ~Func:npc_test_move_taller_with_slipping
  1C4:  SWC1      F0, 1C (SP)
  1C8:  BNEL      V0, R0, .o1D0
  1CC:  CLEAR     S1
        .o1D0
  1D0:  COPY      A0, S3
        .o1D4
  1D4:  COPY      A1, S4
  1D8:  JAL       ~Func:set_variable
  1DC:  COPY      A2, S1
  1E0:  LW        RA, 44 (SP)
  1E4:  LW        S4, 40 (SP)
  1E8:  LW        S3, 3C (SP)
  1EC:  LW        S2, 38 (SP)
  1F0:  LW        S1, 34 (SP)
  1F4:  LW        S0, 30 (SP)
  1F8:  LDC1      F24, 58 (SP)
  1FC:  LDC1      F22, 50 (SP)
  200:  LDC1      F20, 48 (SP)
  204:  LI        V0, 2
  208:  JR        RA
  20C:  ADDIU     SP, SP, 60
}

% Origin: HEURISTIC
#new:Function $Function_802402F0
{
    0:  ADDIU     SP, SP, FF80
    4:  SDC1      F20, 60 (SP)
    8:  MTC1      A1, F20
    C:  SDC1      F22, 68 (SP)
   10:  MTC1      A2, F22
   14:  SDC1      F24, 70 (SP)
   18:  MTC1      A3, F24
   1C:  SDC1      F26, 78 (SP)
   20:  LWC1      F26, 90 (SP)
   24:  SW        RA, 58 (SP)
   28:  SW        S1, 54 (SP)
   2C:  JAL       ~Func:get_model_list_index_from_tree_index
   30:  SW        S0, 50 (SP)
   34:  JAL       ~Func:get_model_from_list_index
   38:  COPY      A0, V0
   3C:  COPY      S0, V0
   40:  ADDIU     S1, S0, 58
   44:  MFC1      A1, F20
   48:  MFC1      A2, F22
   4C:  MFC1      A3, F24
   50:  JAL       ~Func:guTranslateF
   54:  COPY      A0, S1
   58:  ADDIU     A0, SP, 10
   5C:  MFC1      A1, F26
   60:  LUI       A2, 3F80
   64:  JAL       ~Func:guScaleF
   68:  COPY      A3, A1
   6C:  ADDIU     A0, SP, 10
   70:  COPY      A1, S1
   74:  JAL       ~Func:guMtxCatF
   78:  COPY      A2, A1
   7C:  LHU       V0, 0 (S0)
   80:  ORI       V0, V0, 1400
   84:  SH        V0, 0 (S0)
   88:  LW        RA, 58 (SP)
   8C:  LW        S1, 54 (SP)
   90:  LW        S0, 50 (SP)
   94:  LDC1      F26, 78 (SP)
   98:  LDC1      F24, 70 (SP)
   9C:  LDC1      F22, 68 (SP)
   A0:  LDC1      F20, 60 (SP)
   A4:  JR        RA
   A8:  ADDIU     SP, SP, 80
}

% Origin: HEURISTIC
#new:Function $Function_8024039C
{
    0:  ADDIU     SP, SP, FF88
    4:  SW        S7, 4C (SP)
    8:  COPY      S7, A0
    C:  SW        RA, 54 (SP)
   10:  SW        S8, 50 (SP)
   14:  SW        S6, 48 (SP)
   18:  SW        S5, 44 (SP)
   1C:  SW        S4, 40 (SP)
   20:  SW        S3, 3C (SP)
   24:  SW        S2, 38 (SP)
   28:  SW        S1, 34 (SP)
   2C:  SW        S0, 30 (SP)
   30:  SDC1      F26, 70 (SP)
   34:  SDC1      F24, 68 (SP)
   38:  SDC1      F22, 60 (SP)
   3C:  SDC1      F20, 58 (SP)
   40:  LW        V0, 148 (S7)
   44:  JAL       ~Func:get_npc_unsafe
   48:  LH        A0, 8 (V0)
   4C:  ADDIU     S5, SP, 20
   50:  COPY      A0, S5
   54:  COPY      S1, V0
   58:  ADDIU     S4, SP, 24
   5C:  LW        V1, C (S7)
   60:  LUI       A2, 41F0
   64:  LW        A3, C (S1)
   68:  LWC1      F0, 38 (S1)
   6C:  LWC1      F2, 40 (S1)
   70:  LW        S8, 0 (V1)
   74:  ADDIU     V1, V1, 4
   78:  LWC1      F20, 0 (V1)
   7C:  CVT.S.W   F20, F20
   80:  ADDIU     V1, V1, 4
   84:  LWC1      F22, 0 (V1)
   88:  CVT.S.W   F22, F22
   8C:  ADDIU     V1, V1, 4
   90:  LWC1      F24, 0 (V1)
   94:  CVT.S.W   F24, F24
   98:  ADDIU     V1, V1, 4
   9C:  LWC1      F26, 0 (V1)
   A0:  CVT.S.W   F26, F26
   A4:  ADDIU     V1, V1, 4
   A8:  LW        S6, 0 (V1)
   AC:  LW        S0, 4 (V1)
   B0:  COPY      A1, S4
   B4:  SWC1      F0, 20 (SP)
   B8:  JAL       ~Func:add_vec2D_polar
   BC:  SWC1      F2, 24 (SP)
   C0:  LAW       V1, 80151328
   C8:  LWC1      F0, 20 (SP)
   CC:  LIF       F2, 20.0
   D4:  SLL       V0, S0, 1
   D8:  ADDU      V0, V0, S0
   DC:  SLL       V0, V0, 3
   E0:  ADDIU     V0, V0, 4
   E4:  ADDU      V1, V1, V0
   E8:  SWC1      F0, 4 (V1)
   EC:  LWC1      F0, 3C (S1)
   F0:  MFC1      A2, F20
   F4:  ADD.S     F0, F0, F2
   F8:  LWC1      F2, 24 (SP)
   FC:  COPY      A0, S5
  100:  SWC1      F2, C (V1)
  104:  SWC1      F0, 8 (V1)
  108:  LW        A3, C (S1)
  10C:  LWC1      F0, 38 (S1)
  110:  LWC1      F2, 40 (S1)
  114:  COPY      A1, S4
  118:  SWC1      F0, 20 (SP)
  11C:  JAL       ~Func:add_vec2D_polar
  120:  SWC1      F2, 24 (SP)
  124:  LA        S2, 8010EFC8
  12C:  LWC1      F12, 20 (SP)
  130:  LWC1      F14, 24 (SP)
  134:  LW        A2, 28 (S2)
  138:  LW        A3, 30 (S2)
  13C:  JAL       ~Func:dist2D
  140:  CLEAR     S0
  144:  C.LE.S    F0, F22
  148:  NOP
  14C:  BC1F      .o158
  150:  COPY      S3, S2
  154:  LI        S0, 1
        .o158
  158:  CVT.D.S   F0, F22
  15C:  ADD.D     F0, F0, F0
  160:  LIF       F3, 3.390625
  168:  MTC1      R0, F2
  16C:  LAD       F4, $ConstDouble_80243CE0
  174:  DIV.D     F0, F0, F2
  178:  ADD.D     F0, F0, F4
  17C:  LWC1      F2, 20 (SP)
  180:  LWC1      F4, 24 (SP)
  184:  MFC1      A1, F2
  188:  MFC1      A3, F4
  18C:  CVT.S.D   F0, F0
  190:  SWC1      F0, 10 (SP)
  194:  LW        A2, 3C (S1)
  198:  JAL       $Function_802402F0
  19C:  COPY      A0, S6
  1A0:  COPY      A0, S5
  1A4:  MFC1      A2, F24
  1A8:  LW        A3, C (S1)
  1AC:  LWC1      F0, 38 (S1)
  1B0:  LWC1      F2, 40 (S1)
  1B4:  COPY      A1, S4
  1B8:  SWC1      F0, 20 (SP)
  1BC:  JAL       ~Func:add_vec2D_polar
  1C0:  SWC1      F2, 24 (SP)
  1C4:  LWC1      F12, 20 (SP)
  1C8:  LWC1      F14, 24 (SP)
  1CC:  LW        A2, 28 (S2)
  1D0:  JAL       ~Func:dist2D
  1D4:  LW        A3, 30 (S2)
  1D8:  C.LE.S    F0, F26
  1DC:  NOP
  1E0:  BC1TL     .o1E8
  1E4:  ORI       S0, S0, 10
        .o1E8
  1E8:  ANDI      V0, S0, 1
  1EC:  BEQ       V0, R0, .o288
  1F0:  COPY      A0, S7
  1F4:  LWC1      F12, 38 (S1)
  1F8:  LWC1      F14, 40 (S1)
  1FC:  LW        A2, 28 (S3)
  200:  LW        A3, 30 (S3)
  204:  LWC1      F2, 3C (S1)
  208:  MOV.S     F0, F12
  20C:  MOV.S     F4, F14
  210:  SWC1      F0, 20 (SP)
  214:  SWC1      F2, 28 (SP)
  218:  JAL       ~Func:dist2D
  21C:  SWC1      F4, 24 (SP)
  220:  LWC1      F12, 38 (S1)
  224:  LWC1      F14, 40 (S1)
  228:  LW        A2, 28 (S3)
  22C:  LW        A3, 30 (S3)
  230:  JAL       ~Func:atan2
  234:  MOV.S     F20, F0
  238:  CLEAR     A0
  23C:  COPY      A1, S5
  240:  SWC1      F20, 10 (SP)
  244:  SWC1      F0, 14 (SP)
  248:  LH        V0, A6 (S1)
  24C:  ADDIU     A2, SP, 28
  250:  MTC1      V0, F0
  254:  NOP
  258:  CVT.S.W   F0, F0
  25C:  SWC1      F0, 18 (SP)
  260:  LH        V0, A8 (S1)
  264:  COPY      A3, S4
  268:  MTC1      V0, F0
  26C:  NOP
  270:  CVT.S.W   F0, F0
  274:  JAL       ~Func:npc_test_move_taller_with_slipping
  278:  SWC1      F0, 1C (SP)
  27C:  BNEL      V0, R0, .o284
  280:  CLEAR     S0
        .o284
  284:  COPY      A0, S7
        .o288
  288:  COPY      A1, S8
  28C:  JAL       ~Func:set_variable
  290:  COPY      A2, S0
  294:  LW        RA, 54 (SP)
  298:  LW        S8, 50 (SP)
  29C:  LW        S7, 4C (SP)
  2A0:  LW        S6, 48 (SP)
  2A4:  LW        S5, 44 (SP)
  2A8:  LW        S4, 40 (SP)
  2AC:  LW        S3, 3C (SP)
  2B0:  LW        S2, 38 (SP)
  2B4:  LW        S1, 34 (SP)
  2B8:  LW        S0, 30 (SP)
  2BC:  LDC1      F26, 70 (SP)
  2C0:  LDC1      F24, 68 (SP)
  2C4:  LDC1      F22, 60 (SP)
  2C8:  LDC1      F20, 58 (SP)
  2CC:  LI        V0, 2
  2D0:  JR        RA
  2D4:  ADDIU     SP, SP, 78
}

% Origin: HEURISTIC
#new:Function $Function_80240674
{
    0:  ADDIU     SP, SP, FFD8
    4:  SW        S1, 14 (SP)
    8:  COPY      S1, A0
    C:  SW        RA, 24 (SP)
   10:  SW        S4, 20 (SP)
   14:  SW        S3, 1C (SP)
   18:  SW        S2, 18 (SP)
   1C:  SW        S0, 10 (SP)
   20:  LW        S0, C (S1)
   24:  LW        S4, 0 (S0)
   28:  ADDIU     S0, S0, 4
   2C:  LW        A1, 0 (S0)
   30:  JAL       ~Func:get_variable
   34:  ADDIU     S0, S0, 4
   38:  LW        A1, 0 (S0)
   3C:  ADDIU     S0, S0, 4
   40:  COPY      A0, S1
   44:  JAL       ~Func:get_variable
   48:  COPY      S3, V0
   4C:  LW        A1, 0 (S0)
   50:  ADDIU     S0, S0, 4
   54:  COPY      A0, S1
   58:  JAL       ~Func:get_variable
   5C:  COPY      S2, V0
   60:  COPY      A0, S1
   64:  LW        A1, 0 (S0)
   68:  JAL       ~Func:get_variable
   6C:  COPY      S0, V0
   70:  MTC1      S0, F2
   74:  NOP
   78:  CVT.S.W   F2, F2
   7C:  MTC1      S3, F12
   80:  NOP
   84:  CVT.S.W   F12, F12
   88:  MFC1      A2, F2
   8C:  MTC1      V0, F2
   90:  NOP
   94:  CVT.S.W   F2, F2
   98:  MFC1      A3, F2
   9C:  MTC1      S2, F14
   A0:  NOP
   A4:  JAL       ~Func:atan2
   A8:  CVT.S.W   F14, F14
   AC:  COPY      A0, S1
   B0:  TRUNC.W.S F2, F0
   B4:  MFC1      A2, F2
   B8:  JAL       ~Func:set_variable
   BC:  COPY      A1, S4
   C0:  LW        RA, 24 (SP)
   C4:  LW        S4, 20 (SP)
   C8:  LW        S3, 1C (SP)
   CC:  LW        S2, 18 (SP)
   D0:  LW        S1, 14 (SP)
   D4:  LW        S0, 10 (SP)
   D8:  LI        V0, 2
   DC:  JR        RA
   E0:  ADDIU     SP, SP, 28
}

#new:Function $Function_80240758
{
    0:  ADDIU     SP, SP, FFE8
    4:  SW        RA, 10 (SP)
    8:  LW        V0, C (A0)
    C:  LAB       A2, 8010EFD4
   14:  JAL       ~Func:set_variable
   18:  LW        A1, 0 (V0)
   1C:  LW        RA, 10 (SP)
   20:  LI        V0, 2
   24:  JR        RA
   28:  ADDIU     SP, SP, 18
}

#new:Function $Function_80240784
{
    0:  LAW       V1, 8007419C
    8:  LBU       V0, 7E (V1)
    C:  ORI       V0, V0, 8
   10:  SB        V0, 7E (V1)
   14:  JR        RA
   18:  LI        V0, 2
}

#new:Function $Function_802407A0
{
    0:  ADDIU     SP, SP, FFB0
    4:  SW        S3, 1C (SP)
    8:  COPY      S3, A0
    C:  SW        RA, 30 (SP)
   10:  SW        S7, 2C (SP)
   14:  SW        S6, 28 (SP)
   18:  SW        S5, 24 (SP)
   1C:  SW        S4, 20 (SP)
   20:  SW        S2, 18 (SP)
   24:  SW        S1, 14 (SP)
   28:  SW        S0, 10 (SP)
   2C:  SDC1      F24, 48 (SP)
   30:  SDC1      F22, 40 (SP)
   34:  SDC1      F20, 38 (SP)
   38:  LW        S0, C (S3)
   3C:  LW        A1, 0 (S0)
   40:  JAL       ~Func:get_variable
   44:  ADDIU     S0, S0, 4
   48:  LW        S5, 0 (S0)
   4C:  ADDIU     S0, S0, 4
   50:  COPY      A0, S3
   54:  LW        S6, 0 (S0)
   58:  LW        S7, 4 (S0)
   5C:  JAL       ~Func:resolve_npc
   60:  COPY      A1, V0
   64:  LA        S1, 8010EFC8
   6C:  COPY      S0, V0
   70:  BEQ       S0, R0, .o130
   74:  COPY      S2, S1
   78:  LWC1      F12, 28 (S1)
   7C:  LWC1      F14, 30 (S1)
   80:  LW        A2, 38 (S0)
   84:  LW        A3, 40 (S0)
   88:  LIF       F24, 50.0
   90:  JAL       ~Func:dist2D
   94:  LI        S4, 1
   98:  C.LT.S    F0, F24
   9C:  NOP
   A0:  BC1TL     .oA8
   A4:  CLEAR     S4
        .oA8
   A8:  LWC1      F12, 28 (S2)
   AC:  LWC1      F14, 30 (S2)
   B0:  LW        A2, 38 (S0)
   B4:  JAL       ~Func:atan2
   B8:  LW        A3, 40 (S0)
   BC:  JAL       ~Func:clamp_angle
   C0:  MOV.S     F12, F0
   C4:  MOV.S     F20, F0
   C8:  JAL       ~Func:sin_deg
   CC:  MOV.S     F12, F20
   D0:  MUL.S     F0, F0, F24
   D4:  NOP
   D8:  LWC1      F22, 28 (S2)
   DC:  ADD.S     F22, F22, F0
   E0:  JAL       ~Func:cos_deg
   E4:  MOV.S     F12, F20
   E8:  MUL.S     F0, F0, F24
   EC:  NOP
   F0:  COPY      A0, S3
   F4:  COPY      A1, S5
   F8:  LWC1      F20, 30 (S2)
   FC:  COPY      A2, S4
  100:  JAL       ~Func:set_variable
  104:  SUB.S     F20, F20, F0
  108:  COPY      A0, S3
  10C:  TRUNC.W.S F2, F22
  110:  MFC1      A2, F2
  114:  JAL       ~Func:set_variable
  118:  COPY      A1, S6
  11C:  COPY      A0, S3
  120:  TRUNC.W.S F2, F20
  124:  MFC1      A2, F2
  128:  JAL       ~Func:set_variable
  12C:  COPY      A1, S7
        .o130
  130:  LI        V0, 2
  134:  LW        RA, 30 (SP)
  138:  LW        S7, 2C (SP)
  13C:  LW        S6, 28 (SP)
  140:  LW        S5, 24 (SP)
  144:  LW        S4, 20 (SP)
  148:  LW        S3, 1C (SP)
  14C:  LW        S2, 18 (SP)
  150:  LW        S1, 14 (SP)
  154:  LW        S0, 10 (SP)
  158:  LDC1      F24, 48 (SP)
  15C:  LDC1      F22, 40 (SP)
  160:  LDC1      F20, 38 (SP)
  164:  JR        RA
  168:  ADDIU     SP, SP, 50
}

PADDING: 8024090C to 80240910 (0000090C to 00000910)
00000000

#new:Function $Function_80240910
{
    0:  ADDIU     SP, SP, FFD8
    4:  SW        S1, 14 (SP)
    8:  COPY      S1, A0
    C:  SW        RA, 20 (SP)
   10:  SW        S3, 1C (SP)
   14:  SW        S2, 18 (SP)
   18:  SW        S0, 10 (SP)
   1C:  LW        S0, C (S1)
   20:  LW        A1, 0 (S0)
   24:  JAL       ~Func:get_variable
   28:  ADDIU     S0, S0, 4
   2C:  LW        A1, 0 (S0)
   30:  ADDIU     S0, S0, 4
   34:  COPY      A0, S1
   38:  JAL       ~Func:get_variable
   3C:  COPY      S2, V0
   40:  LW        A1, 0 (S0)
   44:  ADDIU     S0, S0, 4
   48:  COPY      A0, S1
   4C:  JAL       ~Func:get_variable
   50:  COPY      S3, V0
   54:  COPY      A0, S1
   58:  LW        A1, 0 (S0)
   5C:  JAL       ~Func:get_variable
   60:  COPY      S0, V0
   64:  LW        V1, C (S2)
   68:  SW        S3, 30 (V1)
   6C:  LW        V1, C (S2)
   70:  SW        S0, 34 (V1)
   74:  LW        V1, C (S2)
   78:  SW        V0, 38 (V1)
   7C:  LW        RA, 20 (SP)
   80:  LW        S3, 1C (SP)
   84:  LW        S2, 18 (SP)
   88:  LW        S1, 14 (SP)
   8C:  LW        S0, 10 (SP)
   90:  LI        V0, 2
   94:  JR        RA
   98:  ADDIU     SP, SP, 28
}

#new:Function $Function_802409AC
{
    0:  ADDIU     SP, SP, FFE8
    4:  SW        RA, 10 (SP)
    8:  JAL       800E63A4
    C:  CLEAR     A0
   10:  LW        RA, 10 (SP)
   14:  LI        V0, 2
   18:  JR        RA
   1C:  ADDIU     SP, SP, 18
}

PADDING: 802409CC to 802409D0 (000009CC to 000009D0)
00000000

#new:EntryList $EntryList
{
	~Vec4f:Entry0 %  735.0    0.0  -60.0  270.0
	~Vec4f:Entry1 %   10.0    0.0  -60.0   90.0
}

#new:Header $Header
{
	[MainScript]  $Script_Main
	[EntryList]   $EntryList
	[EntryCount]  00000002
	[Background]  80200000
	[MapTattle]   00190018
}

#new:Script $Script_80240A30
{
    0:  If  *GB_StoryProgress  >=  .Story:Ch8_ReachedPeachsCastle % 5F
   10:  	Call  SetMusicTrack ( 00000000 .Song:BowserTheme 00000000 00000008 )
   2C:  EndIf
   34:  Return
   3C:  End
}

PADDING: 80240A74 to 80240A80 (00000A74 to 00000A80)
00000000 00000000 00000000

#new:Script $Script_ExitDoubleDoor_80240A80
{
    0:  Set   *Var0  *GB_KKJ_LastPartner
   10:  Call  $Function_80240020 ( )
   1C:  Call  PlaySound ( 000000DC )
   2C:  Call  GotoMapSpecial    ( $ASCII_80243CB0 0000000A 0000000C ) % flo_00
   44:  Wait  100`
   50:  SetGroup  0000001B
   5C:  Call  DisablePlayerInput    ( .True )
   6C:  Set   *Var0  ~Entry:Entry0
   7C:  Set   *Var1  ~Collider:tte
   8C:  Set   *Var2  ~Model:o5
   9C:  Set   *Var3  ~Model:o4
   AC:  Exec  ExitDoubleDoor
   B8:  Wait  17`
   C4:  Call  GotoMap   ( $ASCII_80243CB8 00000001 ) % kkj_22
   D8:  Wait  100`
   E4:  Return
   EC:  End
}

#new:Script $Script_ExitDoubleDoor_80240B74
{
    0:  SetGroup  0000001B
    C:  Call  DisablePlayerInput    ( .True )
   1C:  Set   *Var0  ~Entry:Entry1
   2C:  Set   *Var1  ~Collider:ttw
   3C:  Set   *Var2  ~Model:o9
   4C:  Set   *Var3  ~Model:o10
   5C:  Exec  ExitDoubleDoor
   68:  Wait  17`
   74:  Call  GotoMap   ( $ASCII_80243CC0 00000000 ) % kkj_24
   88:  Wait  100`
   94:  Return
   9C:  End
}

#new:Script $Script_EnterDoubleDoor_80240C18
{
    0:  Call  GetEntryID    ( *Var0 )
   10:  Switch  *Var0
   1C:  	Case  ==  ~Entry:Entry0
   28:  		Set   *Var2  ~Model:o5
   38:  		Set   *Var3  ~Model:o4
   48:  		ExecWait  EnterDoubleDoor
   54:  		If  *GB_StoryProgress  ==  .Story:Ch6_BeganPeachMission % 3A
   64:  			Exec  $Script_80243010
   70:  		Else
   78:  			Exec  $Script_80240F3C
   84:  		EndIf
   8C:  	Case  ==  ~Entry:Entry1
   98:  		Set   *Var2  ~Model:o9
   A8:  		Set   *Var3  ~Model:o10
   B8:  		ExecWait  EnterDoubleDoor
   C4:  EndSwitch
   CC:  Return
   D4:  End
}

#new:Script_Main $Script_Main
{
    0:  Set   *GB_WorldLocation  .Location:PeachsCastle
   10:  Call  SetSpriteShading  ( .Shading:kkj_23 )
   20:  Call  SetCamPerspective ( .Cam:Default 00000003  25`  16`  4096` )
   40:  Call  SetCamBGColor     ( .Cam:Default  0`  0`  0` )
   5C:  Call  SetCamEnabled     ( .Cam:Default .True )
   70:  If  *GB_StoryProgress  ==  .Story:Ch6_BeganPeachMission % 3A
   80:  	Call  $Function_80240048    ( 00000001 )
   90:  	Call  MakeNpcs  ( .False $NpcGroupList_80242714 )
   A4:  Else
   AC:  	Call  MakeNpcs  ( .False $NpcGroupList_80241B6C )
   C0:  EndIf
   C8:  Exec  $Script_80240A30
   D4:  Call  UseDoorSounds ( .DoorSounds:Large )
   E4:  Bind  $Script_ExitDoubleDoor_80240B74 .Trigger:WallPressA ~Collider:ttw 00000001 00000000
  100:  Bind  $Script_ExitDoubleDoor_80240A80[50] .Trigger:WallPressA ~Collider:tte 00000001 00000000
  11C:  Exec  $Script_EnterDoubleDoor_80240C18
  128:  Return
  130:  End
}

PADDING: 80240E2C to 80240E30 (00000E2C to 00000E30)
00000000

#new:NpcSettings $NpcSettings_80240E30
{
	00000000 004B0048 00000000 00000000 00000000 00000000 00000000 00000000
	00000000 00000000 00630000
}

#new:NpcSettings $NpcSettings_80240E5C
{
	00000000 00180018 00000000 00000000 00000000 00000000 00000000 00000000
	00000000 00000000 00630000
}

#new:VectorList $VectorList_80240E88
{
	% ~Path3f:Path_80240E88
	250.000000 10.000000 -240.000000
	220.000000 0.000000 -260.000000
	205.000000 40.000000 -280.000000
	170.000000 190.000000 -300.000000
}

#new:Script $Script_80240EB8
{
    0:  Call  PlaySoundAtNpc    ( 00000001 80000066 00000000 )
   18:  Loop
   24:  	Call  $Function_80240080 ( )
   30:  	If  *Var0  <  00000000
   40:  		BreakLoop
   48:  	EndIf
   50:  	Wait  1`
   5C:  EndLoop
   64:  Call  StopSound ( 80000066 )
   74:  Return
   7C:  End
}

#new:Script $Script_80240F3C
{
    0:  If  *GF_KKJ13_BowserTaunts  ==  .True
   10:  	If  *GF_KKJ23_BowserFledToTower  ==  .True
   20:  		Return
   28:  	EndIf
   30:  EndIf
   38:  Call  SetNpcAnimation       ( 00000000 00800018 )
   4C:  Call  AwaitPlayerApproach   ( 00000064 FFFFFFC4 0000012C )
   64:  Set   *GF_KKJ23_BowserFledToTower  .True
   74:  Thread
   7C:  	Call  SetNpcAnimation   ( 00000000 0080001B )
   90:  	Wait  30`
   9C:  	Call  SetNpcAnimation   ( 00000000 00800018 )
   B0:  EndThread
   B8:  Call  AwaitPlayerApproach   ( 00000000 FFFFFFC4 000000FA )
   D0:  Call  LoadPath  ( 0000001E $VectorList_80240E88 00000004 .Easing:Linear )
   EC:  Label  0
   F8:  Call  GetNextPathPos ( )
  104:  Call  SetNpcPos ( 00000000 *Var1 *Var2 *Var3 )
  120:  Call  SetNpcPos ( 00000001 *Var1 *Var2 *Var3 )
  13C:  Add   *Var1  0000001C
  14C:  Add   *Var2  00000028
  15C:  Add   *Var3  FFFFFFFD
  16C:  Call  SetNpcPos ( 00000002 *Var1 *Var2 *Var3 )
  188:  Wait  1`
  194:  If  *Var0  ==  00000001
  1A4:  	Goto  0
  1B0:  EndIf
  1B8:  Call  SetNpcPos ( 00000000  0`  -1000`  0` )
  1D4:  Call  SetNpcPos ( 00000001  0`  -1000`  0` )
  1F0:  Return
  1F8:  End
}

#new:IntTable $IntTable_8024113C
{
	00000001 00000002 00000003 00000002 00000001 FFFFFFFF FFFFFFFE FFFFFFFD
	FFFFFFFE FFFFFFFF
}

#new:Script $Script_Idle_80241164
{
    0:  Label  0
    C:  UseIntBuffer  $IntTable_8024113C
   18:  Loop  0000000A
   24:  	Get1Int  *Var1
   30:  	Call  GetNpcPos ( 00000000 *Var2 *Var3 *Var4 )
   4C:  	Add   *Var3  *Var1
   5C:  	Call  SetNpcPos ( 00000000 *Var2 *Var3 *Var4 )
   78:  	Wait  3`
   84:  EndLoop
   8C:  Goto  0
   98:  Return
   A0:  End
}

#new:Script $Script_Idle_8024120C
{
    0:  Label  0
    C:  UseIntBuffer  $IntTable_8024113C
   18:  Loop  0000000A
   24:  	Get1Int  *Var1
   30:  	Call  GetNpcPos ( 00000001 *Var2 *Var3 *Var4 )
   4C:  	Add   *Var3  *Var1
   5C:  	Call  SetNpcPos ( 00000001 *Var2 *Var3 *Var4 )
   78:  	Wait  3`
   84:  EndLoop
   8C:  Goto  0
   98:  Return
   A0:  End
}

#new:Script $Script_Idle_802412B4
{
    0:  Label  0
    C:  UseIntBuffer  $IntTable_8024113C
   18:  Loop  0000000A
   24:  	Get1Int  *Var1
   30:  	Call  GetNpcPos ( 00000002 *Var2 *Var3 *Var4 )
   4C:  	Add   *Var3  *Var1
   5C:  	Call  SetNpcPos ( 00000002 *Var2 *Var3 *Var4 )
   78:  	Wait  3`
   84:  EndLoop
   8C:  Goto  0
   98:  Return
   A0:  End
}

#new:Script $Script_Init_8024135C
{
    0:  Call  SetNpcPos ( 00000000  0`  -1000`  0` )
   1C:  If  *GF_KKJ13_BowserTaunts  ==  .True
   2C:  	If  *GF_KKJ23_BowserFledToTower  ==  .True
   3C:  		Return
   44:  	EndIf
   4C:  EndIf
   54:  Call  BindNpcIdle   ( .Npc:Self $Script_Idle_80241164 )
   68:  Call  SetNpcYaw     ( .Npc:Self  90` )
   7C:  Call  SetNpcPos     ( .Npc:Self  250`  10`  -250` )
   98:  Call  SetNpcAnimation   ( .Npc:Self 00800018 )
   AC:  Return
   B4:  End
}

#new:Script $Script_Init_80241418
{
    0:  Call  SetNpcPos ( 00000001  0`  -1000`  0` )
   1C:  If  *GF_KKJ13_BowserTaunts  ==  .True
   2C:  	If  *GF_KKJ23_BowserFledToTower  ==  .True
   3C:  		Return
   44:  	EndIf
   4C:  EndIf
   54:  Call  BindNpcIdle   ( .Npc:Self $Script_Idle_8024120C )
   68:  Call  SetNpcYaw     ( .Npc:Self  90` )
   7C:  Call  SetNpcPos     ( .Npc:Self  250`  10`  -250` )
   98:  Call  SetNpcAnimation   ( .Npc:Self 00800021 )
   AC:  Exec  $Script_80240EB8
   B8:  Return
   C0:  End
}

#new:Script $Script_Init_802414E0
{
    0:  Call  SetNpcPos ( 00000002  0`  -1000`  0` )
   1C:  If  *GF_KKJ13_BowserTaunts  ==  .True
   2C:  	If  *GF_KKJ23_BowserFledToTower  ==  .True
   3C:  		Return
   44:  	EndIf
   4C:  EndIf
   54:  Call  BindNpcIdle   ( .Npc:Self $Script_Idle_802412B4 )
   68:  Call  SetNpcYaw     ( .Npc:Self  90` )
   7C:  Call  SetNpcPos     ( 00000002  278`  50`  -253` )
   98:  Call  SetNpcAnimation   ( 00000002 000C001E )
   AC:  Return
   B4:  End
}

#new:NpcGroup $NpcGroup_8024159C
{
	00000000 $NpcSettings_80240E30 ~Vec3f:NPC_8024159C % 0 0 0
	00000D05 $Script_Init_8024135C 00000000 00000000 0000010E
	~NoDrops
	~Movement:NPC_8024159C
	~AnimationTable:NPC_8024159C % .Sprite:WorldBowser
	00000000 00000000 00000000 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_8024178C
{
	00000001 $NpcSettings_80240E5C ~Vec3f:NPC_8024178C % 0 0 0
	00000F05 $Script_Init_80241418 00000000 00000000 0000010E
	~NoDrops
	~Movement:NPC_8024178C
	~AnimationTable:NPC_8024178C % .Sprite:WorldBowser
	00000000 00000000 00000000 00000000 % no tattle string
}

#new:NpcGroup $NpcGroup_8024197C
{
	00000002 $NpcSettings_80240E5C ~Vec3f:NPC_8024197C % 0 0 0
	00020F05 $Script_Init_802414E0 00000000 00000000 0000010E
	~NoDrops
	~Movement:NPC_8024197C
	~AnimationTable:NPC_8024197C % .Sprite:BattleKooper
	00000000 00000000 00000000 00000000 % no tattle string
}

#new:NpcGroupList $NpcGroupList_80241B6C
{
	00000001 $NpcGroup_8024159C 00000000
	00000001 $NpcGroup_8024178C 00000000
	00000001 $NpcGroup_8024197C 00000000
	00000000 00000000 00000000
}

PADDING: 80241B9C to 80241BA0 (00001B9C to 00001BA0)
00000000

#new:NpcSettings $NpcSettings_80241BA0
{
	00000000 0028001E 00000000 00000000 00000000 80077F70 00000000 8007809C
	00000000 00000000 001A0000
}

#new:NpcSettings $NpcSettings_80241BCC
{
	00000000 00280018 00000000 00000000 00000000 00000000 00000000 00000000
	00000000 00000000 00190000
}

#new:ExtraAnimationList $ExtraAnimationList_80241BF8
{
	00580000 00580001 00580002 00580004 00580005 00580006 00580007 00580008
	00580009 00580012 00580014 0058001B FFFFFFFF
}

#new:Script $Script_Interact_80241C2C
{
    0:  Call  DisablePlayerInput    ( .True )
   10:  Call  GetSelfVar    ( 00000000 *Var0 )
   24:  If  *Var0  ==  00000000
   34:  	Call  SpeakToPlayer ( .Npc:Self 00580008 00580001 00000000 0014014D ) % Hey, you! Yeah, you! Entry is prohibited for unaut ...
   54:  	Call  SetSelfVar    ( 00000000 00000001 )
   68:  Else
   70:  	Call  SpeakToPlayer ( .Npc:Self 00580008 00580001 00000000 0014014E ) % It's about time Kammy Koopa came back down. I wond ...
   90:  	Call  SetSelfVar    ( 00000000 00000000 )
   A4:  EndIf
   AC:  Call  InterpNpcYaw  ( .Npc:Self  90`  0` )
   C4:  Call  DisablePlayerInput    ( .False )
   D4:  Return
   DC:  End
}

#new:Script $Script_NpcAI_80241D10
{
    0:  Call  DisablePlayerInput    ( .True )
   10:  Call  $Function_80240784 ( )
   1C:  SetGroup  00000000
   28:  Call  SetTimeFreezeMode ( 00000001 )
   38:  Call  PlaySoundAtNpc    ( .Npc:Self 00000262 00000000 )
   50:  Call  ShowEmote ( .Npc:Self .Emote:Exclamation  0`  20` .True  0`  0`  0`  0` )
   80:  Call  NpcFacePlayer     ( .Npc:Self 00000000 )
   94:  Wait  20`
   A0:  Call  PlayerFaceNpc     ( .Npc:Self .False )
   B4:  Call  SetPlayerAnimation    ( 000C0005 )
   C4:  Call  SetNpcAnimation   ( .Npc:Self 00580001 )
   D8:  Call  SpeakToPlayer     ( .Npc:Self 00580008 00580001 00000000 00140174 ) % What?! Princess Peach!
   F8:  Call  $Function_802407A0    ( FFFFFFFF *Var3 *Var0 *Var2 )
  114:  If  *Var3  !=  00000000
  124:  	Call  SetNpcAnimation   ( .Npc:Self 00580006 )
  138:  	Call  SetNpcSpeed       ( .Npc:Self *Fixed[5.0] )
  14C:  	Call  NpcMoveTo ( .Npc:Self *Var0 *Var2  0` )
  168:  	Call  SetNpcAnimation   ( .Npc:Self 00580001 )
  17C:  EndIf
  184:  Call  SpeakToPlayer ( .Npc:Self 00580008 00580001 00000000 00140175 ) % You know you're not allowed to leave the room! I'm ...
  1A4:  Call  SetPlayerAnimation    ( 000C0017 )
  1B4:  Wait  20`
  1C0:  Call  GotoMapSpecial        ( $ASCII_80243CE8 0000000B 0000000D ) % kkj_14
  1D8:  Wait  100`
  1E4:  Call  DisablePlayerInput    ( .False )
  1F4:  Return
  1FC:  End
}

#new:Script $Script_80241F14
{
    0:  Loop
    C:  	Call  $Function_80240758    ( *Var1 )
   1C:  	If  *Var1  ==  00000000
   2C:  		Call  SetSelfEnemyFlagBits  ( 08000000 00000001 )
   40:  		Call  BindNpcAI ( .Npc:Self $Script_NpcAI_80241D10 )
   54:  		Return
   5C:  	Else
   64:  		Call  SetSelfEnemyFlagBits  ( 08000000 00000000 )
   78:  	EndIf
   80:  	Wait  1`
   8C:  EndLoop
   94:  Return
   9C:  End
}

#new:Script $Script_Idle_80241FB8
{
    0:  Exec  $Script_80241F14 *VarA
   10:  Call  SetSelfVar    ( 00000001 00000001 )
   24:  Loop
   30:  	Wait  1`
   3C:  	Call  GetSelfVar    ( 00000001 *Var0 )
   50:  	If  *Var0  ==  00000000
   60:  		BreakLoop
   68:  	EndIf
   70:  EndLoop
   78:  Kill  *VarA
   84:  Call  SetSelfEnemyFlagBits  ( 08000000 00000001 )
   98:  Return
   A0:  End
}

#new:Script $Script_Init_80242060
{
    0:  Call  SetNpcAnimation   ( .Npc:Self 00580001 )
   14:  Call  SetNpcPos ( .Npc:Self  140`  0`  -80` )
   30:  Call  SetNpcYaw ( .Npc:Self  90` )
   44:  Call  BindNpcIdle       ( .Npc:Self $Script_Idle_80241FB8 )
   58:  Call  BindNpcInteract   ( .Npc:Self $Script_Interact_80241C2C )
   6C:  Return
   74:  End
}

#new:Script $Script_Init_802420DC
{
    0:  Call  SetNpcAnimation   ( .Npc:Self 00580001 )
   14:  Call  SetNpcPos ( .Npc:Self  40`  0`  -80` )
   30:  Call  SetNpcYaw ( .Npc:Self  90` )
   44:  Return
   4C:  End
}

#new:ExtraAnimationList $ExtraAnimationList_80242130
{
	00600001 00600002 00600004 00600005 FFFFFFFF
}

#new:NpcGroup $NpcGroup_80242144
{
	00000000 $NpcSettings_80241BA0 ~Vec3f:NPC_80242144 % 0 -500 0
	00000F0D 00000000 00000000 00000000 0000010E
	~NoDrops
	~Movement:NPC_80242144
	~AnimationTable:NPC_80242144 % .Sprite:WorldKammy
	00000000 00000000 $ExtraAnimationList_80242130 00000000 % no tattle string
	%
	% $NpcGroup_80242144[1F0]
	00000001 $NpcSettings_80241BCC ~Vec3f:NPC_80242334 % 0 -500 0
	00400D0D $Script_Init_80242060 00000000 00000000 00000000
	~NoDrops
	~Movement:NPC_80242334
	~AnimationTable:NPC_80242334 % .Sprite:WorldKoopatrol
	00000000 00000000 $ExtraAnimationList_80241BF8 00000000 % no tattle string
	%
	% $NpcGroup_80242144[3E0]
	00000002 $NpcSettings_80241BCC ~Vec3f:NPC_80242524 % 0 -500 0
	00000F0D $Script_Init_802420DC 00000000 00000000 00000000
	~NoDrops
	~Movement:NPC_80242524
	~AnimationTable:NPC_80242524 % .Sprite:WorldKoopatrol
	00000000 00000000 $ExtraAnimationList_80241BF8 00000000 % no tattle string
}

#new:NpcGroupList $NpcGroupList_80242714
{
	00000003 $NpcGroup_80242144 00000000
	00000000 00000000 00000000
}

PADDING: 8024272C to 80242730 (0000272C to 00002730)
00000000

#new:Script $Script_80242730
{
    0:  Call  GetPlayerPos  ( *Var0 *Var1 *Var2 )
   18:  Call  SetCamSpeed   ( .Cam:Default *Fixed[1.0] )
   2C:  Call  SetPanTarget  ( .Cam:Default *Var0 *Var1 *Var2 )
   48:  Thread
   50:  	Call  GetPlayerPos  ( *Var0 *Var1 *Var2 )
   68:  	Add   *Var0  0000001A
   78:  	Add   *Var2  00000002
   88:  	Call  SetNpcAnimation   ( 00000001 00580006 )
   9C:  	Call  SetNpcSpeed   ( 00000001 *Fixed[5.0] )
   B0:  	Call  NpcMoveTo     ( 00000001 *Var0 *Var2  0` )
   CC:  	Call  SetNpcAnimation   ( 00000001 00580001 )
   E0:  	Call  NpcFacePlayer ( 00000001 00000005 )
   F4:  EndThread
   FC:  Call  SetNpcVar ( 00000002 00000000 00000001 )
  114:  Thread
  11C:  	Call  GetPlayerPos  ( *Var0 *Var1 *Var2 )
  134:  	Sub   *Var0  0000001A
  144:  	Sub   *Var2  00000002
  154:  	Call  SetNpcAnimation   ( 00000002 00580006 )
  168:  	Call  SetNpcSpeed   ( 00000002 *Fixed[5.0] )
  17C:  	Call  NpcMoveTo     ( 00000002 *Var0 *Var2  0` )
  198:  	Call  SetNpcAnimation   ( 00000002 00580001 )
  1AC:  	Call  NpcFacePlayer ( 00000002 00000005 )
  1C0:  	Call  SetNpcVar     ( 00000002 00000000 00000000 )
  1D8:  EndThread
  1E0:  Loop
  1EC:  	Wait  1`
  1F8:  	Call  GetNpcVar ( 00000002 00000000 *Var0 )
  210:  	If  *Var0  ==  00000000
  220:  		BreakLoop
  228:  	EndIf
  230:  EndLoop
  238:  Wait  10`
  244:  Return
  24C:  End
}

#new:Script $Script_80242984
{
    0:  Thread
    8:  	Call  GetNpcPos ( 00000001 *Var0 *Var1 *Var2 )
   24:  	Sub   *Var0  00000005
   34:  	Call  NpcMoveTo ( 00000001 *Var0 *Var2  5` )
   50:  	Call  SetNpcAnimation   ( 00000001 00580012 )
   64:  	Sub   *Var0  00000005
   74:  	Call  NpcMoveTo ( 00000001 *Var0 *Var2  5` )
   90:  EndThread
   98:  Thread
   A0:  	Call  GetNpcPos ( 00000002 *Var0 *Var1 *Var2 )
   BC:  	Add   *Var0  00000005
   CC:  	Call  NpcMoveTo ( 00000002 *Var0 *Var2  5` )
   E8:  	Call  SetNpcAnimation   ( 00000002 00580012 )
   FC:  	Add   *Var0  00000005
  10C:  	Call  NpcMoveTo ( 00000002 *Var0 *Var2  5` )
  128:  EndThread
  130:  Call  GetPlayerPos  ( *Var0 *Var1 *Var2 )
  148:  Call  SetPlayerAnimation    ( 000C0005 )
  158:  Wait  1`
  164:  Loop  00000004
  170:  	Add   *Var1  00000002
  180:  	Call  SetPlayerPos  ( *Var0 *Var1 *Var2 )
  198:  	Wait  1`
  1A4:  EndLoop
  1AC:  Call  SetPlayerAnimation    ( 000C0018 )
  1BC:  Sub   *Var0  0000000F
  1CC:  Loop  00000005
  1D8:  	Add   *Var1  00000004
  1E8:  	Call  SetPlayerPos  ( *Var0 *Var1 *Var2 )
  200:  	Wait  1`
  20C:  EndLoop
  214:  Return
  21C:  End
}

#new:Script $Script_80242BA8
{
    0:  Call  InterpNpcYaw  ( 00000001  90`  3` )
   18:  Wait  10`
   24:  Thread
   2C:  	Loop
   38:  		Call  GetNpcPos     ( 00000002 *Var0 *Var1 *Var2 )
   54:  		Add   *Var0  0000000A
   64:  		Add   *Var2  00000002
   74:  		Call  SetPlayerPos  ( *Var0  30` *Var2 )
   8C:  		Wait  1`
   98:  	EndLoop
   A0:  EndThread
   A8:  Thread
   B0:  	Call  SetNpcAnimation   ( 00000002 00580014 )
   C4:  	Call  SetNpcSpeed       ( 00000002 *Fixed[5.0] )
   D8:  	Call  NpcMoveTo ( 00000002  684`  -52`  0` )
   F4:  EndThread
   FC:  Thread
  104:  	Call  SetNpcAnimation   ( 00000001 00580014 )
  118:  	Call  SetNpcSpeed       ( 00000001 *Fixed[5.0] )
  12C:  	Call  NpcMoveTo ( 00000001  716`  -48`  0` )
  148:  EndThread
  150:  Call  GetNpcPos     ( 00000000 *Var0 *Var1 *Var2 )
  16C:  Call  SetPanTarget  ( .Cam:Default *Var0 *Var1 *Var2 )
  188:  Call  SetCamSpeed   ( .Cam:Default *Fixed[0.5] )
  19C:  Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
  1B0:  Return
  1B8:  End
}

#new:Script $Script_80242D68
{
    0:  Call  PlaySoundAtCollider   ( ~Collider:ttw .Sound:LargeDoorOpen 00000000 )
   18:  Call  MakeLerp  ( 00000000 00000050 0000000E .Easing:QuadraticOut )
   34:  Loop
   40:  	Call  UpdateLerp ( )
   4C:  	Call  RotateModel   ( ~Model:o9 *Var0 00000000 FFFFFFFF 00000000 )
   6C:  	Call  RotateModel   ( ~Model:o10 *Var0 00000000 00000001 00000000 )
   8C:  	Wait  1`
   98:  	If  *Var1  ==  00000000
   A8:  		BreakLoop
   B0:  	EndIf
   B8:  EndLoop
   C0:  Wait  20`
   CC:  Call  MakeLerp  ( 00000050 00000000 0000000E .Easing:QuadraticOut )
   E8:  Loop
   F4:  	Call  UpdateLerp ( )
  100:  	Call  RotateModel   ( ~Model:o9 *Var0 00000000 FFFFFFFF 00000000 )
  120:  	Call  RotateModel   ( ~Model:o10 *Var0 00000000 00000001 00000000 )
  140:  	Wait  1`
  14C:  	If  *Var1  ==  00000000
  15C:  		BreakLoop
  164:  	EndIf
  16C:  EndLoop
  174:  Call  PlaySoundAtCollider   ( ~Collider:ttw .Sound:LargeDoorClose 00000000 )
  18C:  Return
  194:  End
}

#new:Script $Script_80242F04
{
    0:  Set   *Var0  00000000
   10:  Set   *Var1  0000002D
   20:  Loop  0000000A
   2C:  	Call  InterpPlayerYaw   ( *Var0  0` )
   40:  	Add   *Var0  *Var1
   50:  	Add   *Var1  00000004
   60:  	Wait  1`
   6C:  EndLoop
   74:  Call  PlaySoundAtPlayer ( 00002049 00000000 )
   88:  Call  $Function_802409AC ( )
   94:  Loop  0000000A
   A0:  	Call  InterpPlayerYaw   ( *Var0  0` )
   B4:  	Add   *Var0  *Var1
   C4:  	Sub   *Var1  00000004
   D4:  	Wait  1`
   E0:  EndLoop
   E8:  Call  InterpPlayerYaw   (  90`  0` )
   FC:  Return
  104:  End
}

#new:Script $Script_80243010
{
    0:  Call  SetCamLeadPlayer  ( .Cam:Default .False )
   14:  Loop
   20:  	Wait  1`
   2C:  	Call  GetPlayerPos  ( *Var0 *Var1 *Var2 )
   44:  	If  *Var0  <=  0000008C
   54:  		BreakLoop
   5C:  	EndIf
   64:  EndLoop
   6C:  Call  DisablePlayerInput    ( .True )
   7C:  Call  DisablePlayerPhysics  ( .True )
   8C:  Call  DisablePartnerAI  ( 00000000 )
   9C:  Call  SetMusicTrack     ( 00000000 .Song:KammyKoopaTheme 00000000 00000008 )
   B8:  Call  SetNpcVar ( 00000001 00000001 00000000 )
   D0:  Call  SetNpcFlagBits    ( 00000001 00000100 .True )
   E8:  Call  SetNpcPos ( 00000000  -50`  0`  -50` )
  104:  Exec  $Script_80242D68
  110:  Call  SetNpcAnimation   ( 00000000 00600002 )
  124:  Call  SetNpcSpeed       ( 00000000 *Fixed[2.0] )
  138:  Call  NpcMoveTo ( 00000000  30`  -50`  0` )
  154:  Call  SetNpcAnimation   ( 00000000 00600001 )
  168:  Thread
  170:  	Call  InterpNpcYaw  ( 00000001  270`  5` )
  188:  	Loop
  194:  		Wait  1`
  1A0:  		Call  GetNpcPos ( 00000000 *Var0 *Var1 *Var2 )
  1BC:  		If  *Var0  >  0000008C
  1CC:  			BreakLoop
  1D4:  		EndIf
  1DC:  	EndLoop
  1E4:  	Call  InterpNpcYaw  ( 00000001  90`  5` )
  1FC:  EndThread
  204:  Thread
  20C:  	Call  GetPlayerPos  ( *Var0 *Var1 *Var2 )
  224:  	Call  802D1270  ( 000000BE *Var2 *Fixed[4.0] )
  23C:  	Call  802D1270  ( 000000C3 FFFFFFB0 *Fixed[4.0] )
  254:  	Call  802D1270  ( 000000BE FFFFFFB0 *Fixed[4.0] )
  26C:  	Loop
  278:  		Wait  1`
  284:  		Call  GetNpcPos ( 00000000 *Var0 *Var1 *Var2 )
  2A0:  		If  *Var0  >  000000BE
  2B0:  			BreakLoop
  2B8:  		EndIf
  2C0:  	EndLoop
  2C8:  	Call  InterpPlayerYaw   (  90`  5` )
  2DC:  EndThread
  2E4:  Thread
  2EC:  	Call  GetNpcPos     ( .Npc:Partner *Var0 *Var1 *Var2 )
  308:  	Call  NpcJump0      ( .Npc:Partner *Var0  -10`  -130`  20` )
  328:  	Call  SetNpcSpeed   ( .Npc:Partner *Fixed[4.0] )
  33C:  	Call  NpcFlyTo      ( .Npc:Partner  210`  -10`  -130`  0`  0` .Easing:Linear )
  364:  	Call  InterpNpcYaw  ( .Npc:Partner  270`  5` )
  37C:  	Loop
  388:  		Wait  1`
  394:  		Call  GetNpcPos ( 00000000 *Var0 *Var1 *Var2 )
  3B0:  		If  *Var0  >  000000D2
  3C0:  			BreakLoop
  3C8:  		EndIf
  3D0:  	EndLoop
  3D8:  	Call  InterpNpcYaw  ( .Npc:Partner  90`  5` )
  3F0:  EndThread
  3F8:  Wait  30`
  404:  Call  UseSettingsFrom   ( .Cam:Default  0`  0`  -50` )
  420:  Call  SetPanTarget  ( .Cam:Default  0`  0`  -50` )
  43C:  Call  SetCamDistance    ( .Cam:Default *Fixed[300.0] )
  450:  Call  SetCamPitch   ( .Cam:Default *Fixed[17.0] *Fixed[-9.0] )
  468:  Call  SetCamSpeed   ( .Cam:Default *Fixed[5.0] )
  47C:  Call  PanToTarget   ( .Cam:Default 00000000 00000001 )
  494:  Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
  4A8:  Wait  10`
  4B4:  Call  SpeakToPlayer ( 00000000 00600004 00600001 00000005 0014014F ) % OK, OK. Everything's finally ready. Even if Mario  ...
  4D4:  Call  SpeakToNpc    ( 00000001 00580008 00580001 00000000 00000000 00140150 ) % Absolutely! Affirmative! You're right, Kammy Koopa ...
  4F8:  Call  SetNpcVar     ( 00000000 00000000 00000001 )
  510:  Thread
  518:  	Call  SetCamSpeed   ( .Cam:Default *Fixed[90.0] )
  52C:  	Loop
  538:  		Call  GetNpcPos     ( 00000000 *Var0 *Var1 *Var2 )
  554:  		Call  SetPanTarget  ( .Cam:Default *Var0 *Var1 *Var2 )
  570:  		Wait  1`
  57C:  		Call  GetNpcVar     ( 00000000 00000000 *Var0 )
  594:  		If  *Var0  ==  00000000
  5A4:  			BreakLoop
  5AC:  		EndIf
  5B4:  	EndLoop
  5BC:  EndThread
  5C4:  Call  SetNpcAnimation   ( 00000000 00600002 )
  5D8:  Call  NpcMoveTo     ( 00000000  270`  -50`  0` )
  5F4:  Call  SetNpcAnimation   ( 00000000 00600001 )
  608:  Call  SetNpcVar     ( 00000000 00000000 00000000 )
  620:  Wait  10`
  62C:  Call  InterpNpcYaw  ( 00000000  270`  5` )
  644:  Call  SetPanTarget  ( .Cam:Default  230`  0`  -50` )
  660:  Call  SetCamSpeed   ( .Cam:Default *Fixed[3.0] )
  674:  Call  WaitForCam    ( .Cam:Default *Fixed[1.0] )
  688:  Call  SpeakToPlayer ( 00000000 00600004 00600001 00000005 00140151 ) % Mmm!! You there!
  6A8:  Call  GetPlayerPos  ( *Var0 *Var1 *Var2 )
  6C0:  Call  SetPlayerJumpscale    ( *Fixed[1.0] )
  6D0:  Call  PlayerJump1   ( *Var0 *Var1 *Var2  10` )
  6EC:  Wait  30`
  6F8:  Call  SpeakToPlayer ( 00000000 00600004 00600001 00000005 00140152 ) % You're doing a fine job.
  718:  Call  InterpNpcYaw  ( 00000000  90`  5` )
  730:  Wait  10`
  73C:  Call  NpcMoveTo     ( 00000000  280`  -50`  0` )
  758:  Call  PlaySoundAtNpc    ( 00000000 00000262 00000000 )
  770:  Call  ShowEmote     ( 00000000 .Emote:Exclamation  -45`  15` .True  0`  0`  0`  0` )
  7A0:  Wait  20`
  7AC:  Call  InterpNpcYaw  ( 00000000  270`  5` )
  7C4:  Call  SpeakToPlayer ( 00000000 00600004 00600001 00000005 00140153 ) % Keep up the good... Wait... Something's weird abou ...
  7E4:  Wait  10`
  7F0:  Call  InterpNpcYaw  ( 00000001  90`  5` )
  808:  Call  SetNpcAnimation   ( 00000000 00600005 )
  81C:  Call  SpeakToPlayer ( 00000000 00600005 00600005 00000005 00140154 ) % Yahhhh!
  83C:  Call  PlaySoundAtNpc    ( 00000000 0000207A 00000000 )
  854:  Call  GetNpcPos     ( 00000000 *Var0 *Var1 *Var2 )
  870:  Add   *Var0  FFFFFFEC
  880:  Add   *Var1  00000028
  890:  Add   *Var2  0000001B
  8A0:  Call  PlayEffect    ( ~FX:GatherEnergyPink *Var0 *Var1 *Var2 00000001 00000032 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
  8E4:  Wait  60`
  8F0:  Call  GetPlayerPos  ( *Var0 *Var1 *Var2 )
  908:  Add   *Var2  00000005
  918:  Call  GetNpcPos     ( 00000000 *Var3 *Var4 *Var5 )
  934:  Add   *Var4  000000B4
  944:  Call  PlaySoundAtPlayer ( 00002127 00000000 )
  958:  Call  PlayEffect    ( ~FX:Lightning *Var0 *Var1 *Var2 *Var3 *Var4 *Var5 00000005 00000014 00000000 00000000 00000000 00000000 )
  99C:  Call  $Function_80240910    ( *VarF 000000FF 00000000 000000FF )
  9B8:  Add   *Var1  0000000F
  9C8:  Call  PlayEffect    ( ~FX:ShimmerBurst:Pink *Var0 *Var1 *Var2 00000001 0000001E 00000000 00000000 00000000 00000000 00000000 00000000 00000000 )
  A0C:  Call  NpcFacePlayer ( .Npc:Partner 00000000 )
  A20:  ExecWait  $Script_80242F04
  A2C:  Call  SetNpcAnimation   ( 00000000 00600001 )
  A40:  Call  SpeakToPlayer ( .Npc:Player 000C0006 000C0006 00000005 00140155 ) % Uh-oh!
  A60:  Call  SpeakToPlayer ( 00000000 00600005 00600005 00000005 00140156 ) % You... Why you little... Princess Peach! Unbelieva ...
  A80:  Call  SetPlayerAnimation    ( 000C0011 )
  A90:  Call  SetNpcAnimation   ( 00000000 00600002 )
  AA4:  Call  NpcMoveTo     ( 00000000  260`  -50`  0` )
  AC0:  Call  SetNpcAnimation   ( 00000000 00600001 )
  AD4:  Call  SpeakToPlayer ( 00000000 00600004 00600001 00000005 00140157 ) % Guards! All of you! Catch this little runaway and  ...
  AF4:  Thread
  AFC:  	Loop
  B08:  		Call  NpcFacePlayer ( 00000000 00000000 )
  B1C:  		Wait  1`
  B28:  	EndLoop
  B30:  EndThread
  B38:  Thread
  B40:  	Loop
  B4C:  		Wait  1`
  B58:  		Call  GetPlayerPos  ( *Var0 *Var1 *Var2 )
  B70:  		If  *Var0  >  000000F0
  B80:  			BreakLoop
  B88:  		EndIf
  B90:  	EndLoop
  B98:  	Call  InterpNpcYaw  ( .Npc:Partner  90`  0` )
  BB0:  EndThread
  BB8:  ExecWait  $Script_80242730
  BC4:  ExecWait  $Script_80242984
  BD0:  Call  SpeakToPlayer ( .Npc:Player 000C0018 000C0018 00000005 00140158 ) % Noooo!
  BF0:  ExecWait  $Script_80242BA8
  BFC:  Wait  20`
  C08:  Call  SetNpcSpeed   ( .Npc:Partner *Fixed[6.0] )
  C1C:  Call  NpcFlyTo      ( .Npc:Partner  460`  -10`  -130`  0`  0` .Easing:Linear )
  C44:  Wait  60`
  C50:  Call  FadeOutMusic  ( 00000000 000003E8 )
  C64:  ExecWait  $Script_ExitDoubleDoor_80240A80
  C70:  Call  DisablePlayerPhysics  ( .False )
  C80:  Call  DisablePlayerInput    ( .False )
  C90:  Return
  C98:  End
}

#new:ASCII $ASCII_80243CB0
{
	"flo_00"
}

#new:ASCII $ASCII_80243CB8
{
	"kkj_22"
}

#new:ASCII $ASCII_80243CC0
{
	"kkj_24"
}

PADDING: 80243CC8 to 80243CD0 (00003CC8 to 00003CD0)
00000000 00000000

% Origin: HEURISTIC
#new:ConstDouble $ConstDouble_80243CD0
{
	90.000000d
}

% Origin: HEURISTIC
#new:ConstDouble $ConstDouble_80243CD8
{
	270.000000d
}

% Origin: HEURISTIC
#new:ConstDouble $ConstDouble_80243CE0
{
	0.300000d
}

#new:ASCII $ASCII_80243CE8
{
	"kkj_14"
}

